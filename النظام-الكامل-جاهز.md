# ๐ ุงููุธุงู ุงููุงูู ุฌุงูุฒ - Template Settings

## โ ุชู ุฅูุฌุงุฒู

### 1๏ธโฃ ูุงุฌูุฉ Template Settings
- โ ุชุงุจ ุฌุฏูุฏ ูู Settings: **Message Templates**
- โ ุชุนุฏูู ุงุณู Template
- โ ุงุฎุชูุงุฑ ุงููุบุฉ (ุนุฑุจู/ุฅูุฌููุฒู)
- โ ุชุฎุตูุต Emoji ุงูุจุฑุงูุฏ
- โ ุชุนุฏูู ุฑุณุงูุฉ ุงูุชุฑุญูุจ
- โ ุชุนุฏูู ุฑุณุงูุฉ ุงูุชุฃููุฏ
- โ ุชุนุฏูู ุฑุณุงูุฉ ุงูุฅูุบุงุก
- โ ูุนุงููุฉ ูุจุงุดุฑุฉ ููุฑุณุงูุฉ
- โ ุชูุนูู/ุชุนุทูู Template Messages

### 2๏ธโฃ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ SQL ุฌุงูุฒ ูุฅุถุงูุฉ ุงูุฃุนูุฏุฉ
- โ ุฌุฏูู brands ูุญุฏุซ ุจุงูุญููู ุงูุฌุฏูุฏุฉ

### 3๏ธโฃ Backend Integration
- โ webhook-handler ููุฑุฃ ุงูุฅุนุฏุงุฏุงุช ูู ุงูุฏุงุชุงุจูุฒ
- โ ูุณุชุฎุฏู Template Name ุงููุฎุตุต
- โ ูุณุชุฎุฏู ุงููุบุฉ ุงููุฎุตุตุฉ
- โ ูุณุชุฎุฏู Emoji ุงูุจุฑุงูุฏ
- โ ูุณุชุฎุฏู ุฑุณุงูุฉ ุงูุชุฑุญูุจ ุงููุฎุตุตุฉ
- โ handle-button-click ูุณุชุฎุฏู ุฑุณุงุฆู ุงูุชุฃููุฏ/ุงูุฅูุบุงุก ุงููุฎุตุตุฉ

---

## ๐ ุฎุทูุงุช ุงูุชูุนูู

### ุงูุฎุทูุฉ 1: ุชุดุบูู SQL ูู Supabase

ุงูุชุญ: https://supabase.com/dashboard/project/rmpgofswkpjxionzythf/editor

ุงูุณุฎ ูุงูุตู:

```sql
-- Add Template Settings to brands table
ALTER TABLE brands ADD COLUMN IF NOT EXISTS template_name TEXT DEFAULT 'moon_order_confirmation';
ALTER TABLE brands ADD COLUMN IF NOT EXISTS template_language TEXT DEFAULT 'ar';
ALTER TABLE brands ADD COLUMN IF NOT EXISTS template_header TEXT;
ALTER TABLE brands ADD COLUMN IF NOT EXISTS template_body TEXT;
ALTER TABLE brands ADD COLUMN IF NOT EXISTS template_footer TEXT;
ALTER TABLE brands ADD COLUMN IF NOT EXISTS use_template BOOLEAN DEFAULT true;
ALTER TABLE brands ADD COLUMN IF NOT EXISTS brand_emoji TEXT DEFAULT '๐';
ALTER TABLE brands ADD COLUMN IF NOT EXISTS welcome_message TEXT DEFAULT 'ุฃููุงู ุจู ูู {{brand_name}}';
ALTER TABLE brands ADD COLUMN IF NOT EXISTS confirmation_message TEXT DEFAULT 'ุชู ุชุฃููุฏ ุทูุจู ุจูุฌุงุญ!';
ALTER TABLE brands ADD COLUMN IF NOT EXISTS cancellation_message TEXT DEFAULT 'ุชู ุฅูุบุงุก ุทูุจู.';
```

ุงุถุบุท **RUN** โ

---

### ุงูุฎุทูุฉ 2: ุฑูุน ุนูู GitHub ู Vercel

```bash
git add .
git commit -m "โจ Add Template Settings - Complete customization for each brand"
git push origin main
```

Vercel ููุนูู Deploy ุชููุงุฆู ๐

---

### ุงูุฎุทูุฉ 3: ุชุฌุฑุจุฉ ุงููุธุงู

#### ุฃ) ุชุฎุตูุต ุงูุฅุนุฏุงุฏุงุช:

1. ุงูุชุญ: https://wahtsapp2.vercel.app
2. ุณุฌู ุฏุฎูู
3. ุงุถุบุท **Settings** โ๏ธ
4. ุงุฎุชุฑ ุชุงุจ **Message Templates** ๐ฌ
5. ุนุฏู ุงูุฅุนุฏุงุฏุงุช:
   - Template Name: `moon_order_confirmation`
   - ุงููุบุฉ: `ar` (ุนุฑุจู)
   - Emoji: `๐`
   - ุฑุณุงูุฉ ุงูุชุฑุญูุจ: `ุฃููุงู ุจู ูู Moon`
   - ุฑุณุงูุฉ ุงูุชุฃููุฏ: `ุชู ุชุฃููุฏ ุทูุจู ุจูุฌุงุญ! ุณูุจุฏุฃ ุงูุชุฌููุฒ ููุฑุงู`
   - ุฑุณุงูุฉ ุงูุฅูุบุงุก: `ุชู ุฅูุบุงุก ุทูุจู. ูุชููู ุฎุฏูุชู ูุฑูุจุงู`
6. ุงุถุบุท **ูุนุงููุฉ ุงูุฑุณุงูุฉ** ๐๏ธ
7. ุงุถุบุท **ุญูุธ ุงูุฅุนุฏุงุฏุงุช** ๐พ

#### ุจ) ุงุฎุชุจุงุฑ ุงูู Flow ุงููุงูู:

1. **ุฅูุดุงุก ุทูุจ ูู Shopify**
   - ุงุฐูุจ ููุชุฌุฑู ุนูู Shopify
   - ุฃูุดุฆ ุทูุจ ุฌุฏูุฏ (Test Order)
   - ุถุน ุฑูู ูุงุชุณุงุจ ุตุญูุญ

2. **Shopify ูุจุนุช Webhook**
   - Shopify โ `https://wahtsapp2.vercel.app/api/shopify/webhook-handler`
   - ุงูุณูุณุชู ูุณุชูุจู ุงูุทูุจ

3. **ุงูุณูุณุชู ููุฑุฃ ุงูุฅุนุฏุงุฏุงุช**
   - ููุฑุฃ ูู ุฌุฏูู brands:
     - template_name
     - template_language
     - brand_emoji
     - welcome_message
     - use_template

4. **ูุจุนุช ุฑุณุงูุฉ WhatsApp**
   - ูู Template ูุนุชูุฏ โ ูุณุชุฎุฏู Template
   - ูู Template ูุด ูุนุชูุฏ โ ูุณุชุฎุฏู Interactive Message
   - ุงูุฑุณุงูุฉ ูููุง ุงูุฅุนุฏุงุฏุงุช ุงููุฎุตุตุฉ

5. **ุงูุนููู ูุถุบุท ุฒุฑุงุฑ**
   - โ ุชุฃููุฏ โ ูุจุนุช ุฑุณุงูุฉ ุงูุชุฃููุฏ ุงููุฎุตุตุฉ
   - โ ุฅูุบุงุก โ ูุจุนุช ุฑุณุงูุฉ ุงูุฅูุบุงุก ุงููุฎุตุตุฉ

6. **ุงูุณูุณุชู ูุญุฏุซ Shopify**
   - ูุถูู Tag: `whatsapp-confirmed`
   - ุฃู ููุบู ุงูุทูุจ

---

## ๐จ ูุซุงู ุนูู ุงูุชุฎุตูุต

### ุจุฑุงูุฏ Moon:
```
Template Name: moon_order_confirmation
Language: ar
Emoji: ๐
Welcome: ุฃููุงู ุจู ูู Moon
Confirmation: ุชู ุชุฃููุฏ ุทูุจู! ุณูุจุฏุฃ ุงูุชุฌููุฒ ููุฑุงู โจ
Cancellation: ุชู ุฅูุบุงุก ุทูุจู. ูุชููู ุฎุฏูุชู ูุฑูุจุงู ๐
```

### ุจุฑุงูุฏ Lamsa:
```
Template Name: lamsa_order_confirmation
Language: ar
Emoji: โจ
Welcome: ูุฑุญุจุงู ุจู ูู ููุณุฉ
Confirmation: ุดูุฑุงู ูุซูุชู! ุทูุจู ููุฏ ุงูุชุฌููุฒ
Cancellation: ุชู ุงูุฅูุบุงุก. ูุณุนุฏูุง ุฎุฏูุชู ูู ุฃู ููุช
```

---

## ๐ ููู ูุดุชุบู ุงููุธุงูุ

```
1. Shopify Order Created
   โ
2. Webhook โ api/shopify/webhook-handler.js
   โ
3. ููุฑุฃ brand settings ูู database
   โ
4. ูุจูู ุงูุฑุณุงูุฉ ุจุงูุฅุนุฏุงุฏุงุช ุงููุฎุตุตุฉ
   โ
5. ูุจุนุช WhatsApp (Template ุฃู Interactive)
   โ
6. ุงูุนููู ูุถุบุท ุฒุฑุงุฑ
   โ
7. Webhook โ api/webhook.js
   โ
8. api/shopify/handle-button-click.js
   โ
9. ููุฑุฃ confirmation/cancellation message ูู brand
   โ
10. ูุจุนุช ุงูุฑุณุงูุฉ ุงููุฎุตุตุฉ
    โ
11. ูุญุฏุซ Shopify
```

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### Frontend:
- โ `src/components/SettingsComplete.jsx` - ุฃุถููุง ุชุงุจ Templates
- โ `src/components/TemplateSettings.jsx` - ูุงุฌูุฉ ูุงููุฉ

### Backend:
- โ `api/shopify/webhook-handler.js` - ููุฑุฃ ููุณุชุฎุฏู ุงูุฅุนุฏุงุฏุงุช
- โ `api/shopify/handle-button-click.js` - ูุณุชุฎุฏู ุฑุณุงุฆู ูุฎุตุตุฉ

### Database:
- โ `add-template-settings-column.sql` - SQL ููุฃุนูุฏุฉ ุงูุฌุฏูุฏุฉ

---

## ๐ฏ ุงููููุฒุงุช

### ููู ุจุฑุงูุฏ:
- โ Template ุฎุงุต ุจูู
- โ ูุบุฉ ูุฎุตุตุฉ
- โ Emoji ูููุฒ
- โ ุฑุณุงุฆู ูุฎุตุตุฉ
- โ ูุนุงููุฉ ูุจู ุงูุญูุธ
- โ ุชูุนูู/ุชุนุทูู Template

### ูููุธุงู:
- โ Multi-tenant ูุงูู
- โ ูู ุจุฑุงูุฏ ูุนุฒูู
- โ ุฅุนุฏุงุฏุงุช ูุณุชููุฉ
- โ ูุฑููุฉ ูุงููุฉ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุชุงุจ ูุด ุธุงูุฑ
```
ุงูุญู: 
1. ุชุฃูุฏ ูู git push
2. ุชุฃูุฏ ูู Vercel deployment
3. ุงูุณุญ cache ุงููุชุตูุญ (Ctrl+Shift+R)
```

### ุงููุดููุฉ: ุฎุทุฃ ุนูุฏ ุงูุญูุธ
```
ุงูุญู:
1. ุชุฃูุฏ ูู ุชุดุบูู SQL ูู Supabase
2. ุชุญูู ูู Console ูู ุงููุชุตูุญ
3. ุชุญูู ูู Supabase logs
```

### ุงููุดููุฉ: ุงูุฑุณุงุฆู ูุด ุจุชุณุชุฎุฏู ุงูุฅุนุฏุงุฏุงุช
```
ุงูุญู:
1. ุชุฃูุฏ ูู ุญูุธ ุงูุฅุนุฏุงุฏุงุช
2. ุชุฃูุฏ ูู Vercel deployment ููู API
3. ุชุญูู ูู Vercel logs
```

### ุงููุดููุฉ: Template ูุด ุดุบุงู
```
ุงูุญู:
1. ุชุฃูุฏ ูู ุงุนุชูุงุฏ Template ูู Meta
2. ุฌุฑุจ ุชุนุทูู use_template ูุงุณุชุฎุฏู Interactive
3. ุชุญูู ูู ุงุณู Template ุตุญูุญ
```

---

## ๐ฑ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู)

### 1. ุฅุถุงูุฉ ูุชุบูุฑุงุช ุฃูุซุฑ:
- `{{customer_phone}}`
- `{{order_date}}`
- `{{delivery_date}}`

### 2. ุฅุถุงูุฉ Templates ุฃูุซุฑ:
- Abandoned Cart Template
- Shipping Update Template
- Delivery Confirmation Template

### 3. ุฅุถุงูุฉ ูุบุงุช ุฃูุซุฑ:
- English
- French
- Spanish

---

## โ ุงูุฎูุงุตุฉ

ุงููุธุงู ุฏูููุชู:
- โ ูุงูู ููุชูุงูู
- โ ูู ุจุฑุงูุฏ ููุฏุฑ ูุฎุตุต ุฑุณุงุฆูู
- โ ูุงุฌูุฉ ุณููุฉ ูุจุณูุทุฉ
- โ ูุนุงููุฉ ูุจุงุดุฑุฉ
- โ ูุดุชุบู ูุน Shopify ุชููุงุฆู
- โ Multi-tenant ูุงูู
- โ Production-ready

---

**๐ ูุจุฑูู! ุงููุธุงู ุจูู ุงุญุชุฑุงูู 100%**

ูู ุจุฑุงูุฏ ุฏูููุชู ุนูุฏู:
- ูููุชู ุงูุฎุงุตุฉ (Emoji)
- ุฑุณุงุฆูู ุงููุฎุตุตุฉ
- Template ุฎุงุต ุจูู
- ุชุญูู ูุงูู ูู ุงูุชุฌุฑุจุฉ

**๐ ุฌุงูุฒ ููุฅุทูุงู!**

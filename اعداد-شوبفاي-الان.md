# ๐ ุฅุนุฏุงุฏ Shopify - ุฎุทูุฉ ุจุฎุทูุฉ

## ๐ ุงููุดููุฉ ุงูุญุงููุฉ:
ุงููุธุงู ูุธูุฑ "Not Connected" ูุฃู ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุฉ โ

## โ ุงูุญู (3 ุฎุทูุงุช ููุท):

### ุงูุฎุทูุฉ 1๏ธโฃ: ุงูุชุญ Supabase SQL Editor

ุงุฐูุจ ุฅูู:
```
https://supabase.com/dashboard/project/rmpgofswkpjxionzythf/sql/new
```

ุฃู:
1. ุงูุชุญ Supabase Dashboard
2. ุงุฎุชุฑ ูุดุฑูุนู
3. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ ุงุฎุชุฑ "SQL Editor"
4. ุงุถุบุท "New query"

---

### ุงูุฎุทูุฉ 2๏ธโฃ: ุงูุณุฎ ูุงูุตู ุงูููุฏ

ุงูุชุญ ุงูููู: `COMPLETE-SHOPIFY-SETUP.sql`

ุงูุณุฎ **ูู** ูุญุชููุงุชู ูุงูุตูู ูู SQL Editor

ุซู ุงุถุบุท:
- ุฒุฑ "Run" ุงูุฃุฎุถุฑ
- ุฃู ุงุถุบุท `Ctrl + Enter`

โฑ๏ธ ุณูุณุชุบุฑู 2-3 ุซูุงูู ููุท

---

### ุงูุฎุทูุฉ 3๏ธโฃ: ุชุญูู ูู ุงููุฌุงุญ

ุงูุชุญ Terminal ูุงูุชุจ:
```bash
node check-tables.js
```

ูุฌุจ ุฃู ุชุฑู:
```
โ Table exists!
โ Table exists!
โ Shopify columns exist!
```

---

## ๐ฏ ุงูุขู ุฌุฑุจ ุงูุฑุจุท:

1. ุงูุชุญ ุงููููุน: https://wahtsapp2.vercel.app
2. ุงุฐูุจ ุฅูู: Settings โ Shopify Integration
3. ูุฌุจ ุฃู ุชุฑู ุงูุขู ุงูุตูุญุฉ ุชุนูู ุจุดูู ุตุญูุญ
4. ุงููุฃ ุงูุจูุงูุงุช:
   - **Shop Subdomain**: ุงุณู ูุชุฌุฑู ููุท (ูุซุงู: my-store)
   - **Client ID**: ูู Shopify App
   - **Client Secret**: ูู Shopify App
5. ุงุถุบุท "Connect with OAuth"

---

## ๐ ููู ุชุญุตู ุนูู Client ID ู Client Secret:

1. ุงูุชุญ Shopify Admin Panel
2. ุงุฐูุจ ุฅูู: Settings โ Apps and sales channels
3. ุงุถุบุท "Develop apps"
4. ุงุถุบุท "Create an app"
5. ุงูุชุจ ุงุณู ุงูุชุทุจูู (ูุซุงู: WhatsApp CRM)
6. ุงุฐูุจ ุฅูู "Configuration"
7. ุชุญุช "App URL" ุงูุตู:
   ```
   https://wahtsapp2.vercel.app/api/shopify/oauth/callback
   ```
8. ุงุถุบุท "Configure Admin API scopes"
9. ุงุฎุชุฑ:
   - โ read_orders
   - โ write_orders
10. ุงุถุบุท "Save"
11. ุงุฐูุจ ุฅูู "API credentials"
12. ุงูุณุฎ:
    - Client ID (API Key)
    - Client Secret (API Secret Key)
13. ุงูุตููู ูู ุตูุญุฉ Settings

---

## โ ุจุนุฏ ุงูุฑุจุท:

ุนูุฏ ูุฌุงุญ ุงูุฑุจุท ุณุชุฑู:
- โ Badge ุฃุฎุถุฑ "Connected"
- ุงุณู ุงููุชุฌุฑ
- ุชุงุฑูุฎ ุงูุฑุจุท

ููู Profile tab ุณุชุฑู:
- โ Shopify Connected: your-store.myshopify.com

---

## โ ุฅุฐุง ูุงุฌูุช ูุดููุฉ:

### ุงููุดููุฉ: "Buffer is not defined"
โ ุชู ุญููุง! ุงุณุชุฎุฏููุง `btoa()` ุจุฏูุงู ูู `Buffer`

### ุงููุดููุฉ: "Not Connected" ุจุนุฏ ุงูุฑุจุท
1. ุชุฃูุฏ ูู ุชุดุบูู SQL ูู Supabase
2. ุดุบู: `node check-tables.js`
3. ุชุฃูุฏ ูู ุฑุคูุฉ โ ุจุฌุงูุจ ูู ุฌุฏูู

### ุงููุดููุฉ: "Invalid credentials"
- ุชุฃูุฏ ูู Client ID ู Client Secret ุตุญูุญูู
- ุชุฃูุฏ ูู Shop Subdomain ุตุญูุญ (ุจุฏูู .myshopify.com)

### ุงููุดููุฉ: OAuth Redirect ูุดู
- ุชุฃูุฏ ูู ูุถุน Redirect URL ูู Shopify App Settings
- ุงูู URL ูุฌุจ ุฃู ูููู ุจุงูุถุจุท:
  ```
  https://wahtsapp2.vercel.app/api/shopify/oauth/callback
  ```

---

## ๐ ุจุนุฏ ุงููุฌุงุญ:

ููููู ุงูุขู:
1. ุฅุฑุณุงู ุฑุณุงุฆู ุชุฃููุฏ ุงูุทูุจุงุช ุนุจุฑ WhatsApp
2. ุงูุนููู ูุถุบุท ุนูู ุฒุฑ (ุชุฃููุฏ/ุฅูุบุงุก)
3. Shopify ูุชุญุฏุซ ุชููุงุฆูุงู
4. ูุชุงุจุนุฉ ูู ุงูุทูุจุงุช ูู ุชุจููุจ "Shopify Orders"

---

## ๐ ููุฏุนู:

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุดุบู: `node check-tables.js`
2. ุฎุฐ screenshot ูู ุงููุชูุฌุฉ
3. ุฎุฐ screenshot ูู ุฑุณุงูุฉ ุงูุฎุทุฃ
4. ุฃุฑุณููู ูู

---

**ููุงุญุธุฉ ูููุฉ:** 
- ุงูููุฏ ุขูู 100% ููุณุชุฎุฏู `IF NOT EXISTS`
- ููููู ุชุดุบููู ุฃูุซุฑ ูู ูุฑุฉ ุจุฏูู ูุดุงูู
- ุฌููุน ุงูุจูุงูุงุช ูุญููุฉ ุจู RLS (Row Level Security)
- ูู brand ูู ุจูุงูุงุชู ูููุตูุฉ ุชูุงูุงู

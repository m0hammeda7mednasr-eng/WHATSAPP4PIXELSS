# ğŸš¨ Ù†ÙØ° Ø¯Ù‡ ÙÙŠ Supabase Ø¯Ù„ÙˆÙ‚ØªÙŠ!

## Ø§Ù„Ø®Ø·ÙˆØ§Øª (Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ§Ø­Ø¯Ø©):

### 1ï¸âƒ£ Ø§ÙØªØ­ Supabase
https://supabase.com/dashboard

### 2ï¸âƒ£ Ø§Ø®ØªØ§Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨ØªØ§Ø¹Ùƒ

### 3ï¸âƒ£ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©: SQL Editor

### 4ï¸âƒ£ Ø§Ø¶ØºØ· "New Query"

### 5ï¸âƒ£ Ø§Ù†Ø³Ø® ÙˆØ§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ø¯Ù‡ Ø¨Ø§Ù„Ø¶Ø¨Ø·:

```sql
-- Ø­Ø°Ù Ø§Ù„Ù€ Policies Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
DROP POLICY IF EXISTS "Authenticated users can view shopify connections" ON shopify_connections;
DROP POLICY IF EXISTS "Authenticated users can insert shopify connections" ON shopify_connections;
DROP POLICY IF EXISTS "Authenticated users can update shopify connections" ON shopify_connections;
DROP POLICY IF EXISTS "Authenticated users can view shopify orders" ON shopify_orders;
DROP POLICY IF EXISTS "Authenticated users can insert shopify orders" ON shopify_orders;
DROP POLICY IF EXISTS "Authenticated users can update shopify orders" ON shopify_orders;
DROP POLICY IF EXISTS "Authenticated users can view webhook logs" ON shopify_webhook_logs;
DROP POLICY IF EXISTS "Authenticated users can insert webhook logs" ON shopify_webhook_logs;
DROP POLICY IF EXISTS "Allow all access to shopify connections" ON shopify_connections;
DROP POLICY IF EXISTS "Allow all access to shopify orders" ON shopify_orders;
DROP POLICY IF EXISTS "Allow all access to webhook logs" ON shopify_webhook_logs;

-- Ø¥Ù†Ø´Ø§Ø¡ Policies Ø¬Ø¯ÙŠØ¯Ø© ØªØ³Ù…Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„
CREATE POLICY "Allow all access to shopify connections"
  ON shopify_connections FOR ALL
  USING (true) WITH CHECK (true);

CREATE POLICY "Allow all access to shopify orders"
  ON shopify_orders FOR ALL
  USING (true) WITH CHECK (true);

CREATE POLICY "Allow all access to webhook logs"
  ON shopify_webhook_logs FOR ALL
  USING (true) WITH CHECK (true);
```

### 6ï¸âƒ£ Ø§Ø¶ØºØ· "Run" (Ø£Ùˆ Ctrl+Enter)

### 7ï¸âƒ£ Ù„Ø§Ø²Ù… ÙŠØ·Ù„Ø¹ "Success. No rows returned"

---

## âœ… Ø¨Ø¹Ø¯ ÙƒØ¯Ù‡:

Ø§Ø±Ø¬Ø¹ Ù„Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ¬Ø±Ø¨ Shopify OAuth ØªØ§Ù†ÙŠ

---

## âš ï¸ Ù„Ùˆ Ø·Ù„Ø¹ Ø®Ø·Ø£:

### Ù„Ùˆ Ù‚Ø§Ù„ "policy already exists":
Ù…Ø¹Ù†Ø§Ù‡Ø§ Ø§Ù„Ù€ policy Ù…ÙˆØ¬ÙˆØ¯ØŒ Ø¬Ø±Ø¨ ØªØ­Ø°ÙÙ‡ Ø§Ù„Ø£ÙˆÙ„:

```sql
DROP POLICY "Allow all access to shopify connections" ON shopify_connections;
DROP POLICY "Allow all access to shopify orders" ON shopify_orders;
DROP POLICY "Allow all access to webhook logs" ON shopify_webhook_logs;
```

Ø«Ù… Ù†ÙØ° Ø§Ù„Ù€ CREATE Ù…Ø±Ø© ØªØ§Ù†ÙŠØ©.

### Ù„Ùˆ Ù‚Ø§Ù„ "table does not exist":
Ù…Ø¹Ù†Ø§Ù‡Ø§ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ù…Ø´ Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ù†ÙØ° Ø§Ù„Ø£ÙˆÙ„:

```sql
-- Ù…Ù† Ù…Ù„Ù COMPLETE-SHOPIFY-SETUP.sql
```

---

## ğŸ¯ Ø§Ù„Ø­Ù„ Ø§Ù„Ø¨Ø¯ÙŠÙ„: Ø§Ø³ØªØ®Ø¯Ù… Manual Token!

Ù„Ùˆ OAuth Ù…Ø¹Ù‚Ø¯ØŒ Ø§Ø³ØªØ®Ø¯Ù… Manual Token (Ø£Ø³Ù‡Ù„ Ø¨ÙƒØªÙŠØ±):

1. Shopify Admin â†’ Settings â†’ Apps â†’ Develop apps
2. Create app
3. Configure Admin API scopes: read_orders, write_orders
4. Install app
5. API credentials â†’ Reveal token once
6. Ø§Ù†Ø³Ø® Token (ÙŠØ¨Ø¯Ø£ Ø¨Ù€ shpat_)
7. ÙÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹: Settings â†’ Shopify â†’ Manual Token
8. Ø§Ù„ØµÙ‚ Token ÙˆØ§Ø¶ØºØ· Connect

**Manual Token Ù…Ø´ Ù…Ø­ØªØ§Ø¬ RLS policies ÙˆÙ…Ø´ Ù‡ÙŠØ·Ù„Ø¹ Ø£ÙŠ Ù…Ø´Ø§ÙƒÙ„!** âœ…

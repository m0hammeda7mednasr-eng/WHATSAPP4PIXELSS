# ๐ฏ ุฏููู ุงูุชูููุฐ ุงููุงูู - WhatsApp CRM System

## โ ูุง ุชู ุชูููุฐู

### 1. Database Setup โ
- ุฅุถุงูุฉ 5 ุฃุนูุฏุฉ ููุฑุณุงุฆู ูู ุฌุฏูู `brands`
- ุฅุถุงูุฉ 4 ุฃุนูุฏุฉ ููุชุชุจุน ูู ุฌุฏูู `shopify_orders`
- ุฅุถุงูุฉ Indexes ููุฃุฏุงุก

### 2. Backend Implementation โ
- ุฏุงูุฉ `sendInteractiveMessage()` - ุฅุฑุณุงู ุฑุณุงุฆู ุจุฃุฒุฑุงุฑ
- ุฏุงูุฉ `sendTextMessage()` - ุฅุฑุณุงู ุฑุณุงุฆู ูุตูุฉ
- ูุนุงูุฌุฉ ุถุบุทุงุช ุงูุฃุฒุฑุงุฑ ูู webhook
- ุฏุงูุฉ `handleOrderConfirmation()` - ูุนุงูุฌุฉ ุงูุชุฃููุฏ
- ุฏุงูุฉ `handleOrderCancellation()` - ูุนุงูุฌุฉ ุงูุฅูุบุงุก

### 3. Cron Job โ
- ููู `server/cron-reminder.js`
- ููุญุต ูู 5 ุฏูุงุฆู
- ูุฑุณู ุชุฐููุฑ ููุทูุจุงุช ุจุฏูู ุฑุฏ ุจุนุฏ ุณุงุนุฉ

### 4. Frontend โ
- ุตูุญุฉ `TemplateSettings.jsx` ุฌุงูุฒุฉ
- ุชุฎุตูุต ูุงูู ููุฑุณุงุฆู
- ุฏุนู ุงููุชุบูุฑุงุช

---

## ๐ ุฎุทูุงุช ุงูุชุดุบูู

### ุงูุฎุทูุฉ 1: Database Setup

**ุงูุชุญ Supabase SQL Editor:**
```
https://supabase.com/dashboard/project/rmpgofswkpjxionzythf/sql/new
```

**ุงูุณุฎ ูุงูุตู ูู ููู:**
```
COMPLETE-DATABASE-SETUP.sql
```

**ุงุถุบุท RUN**

---

### ุงูุฎุทูุฉ 2: ุชุดุบูู ุงููุธุงู

**ุงุณุชุฎุฏู ุงูููู ุงูุฌุงูุฒ:**
```bash
START-COMPLETE-SYSTEM.bat
```

**ุฃู ุดุบู ูุฏููุงู:**

**Terminal 1 - Backend:**
```bash
cd wahtsapp-main/server
node webhook-server-simple.js
```

**Terminal 2 - Cron Job:**
```bash
cd wahtsapp-main/server
node cron-reminder.js
```

**Terminal 3 - Frontend:**
```bash
cd wahtsapp-main
npm run dev
```

**Terminal 4 - ngrok:**
```bash
cd wahtsapp-main
ngrok http 3001
```

---

### ุงูุฎุทูุฉ 3: ุชุฎุตูุต ุงูุฑุณุงุฆู

1. ุงูุชุญ: `http://localhost:5173`
2. ุงุฐูุจ ุฅูู: **Settings โ Template Settings**
3. ุนุฏู ุงูุฑุณุงุฆู ุงูุฃุฑุจุนุฉ:
   - ุฑุณุงูุฉ ุงูุนููุงุก ุงูููุฌูุฏูู
   - ุฑุณุงูุฉ ุงูุชุฃููุฏ
   - ุฑุณุงูุฉ ุงูุฅูุบุงุก
   - ุฑุณุงูุฉ ุงูุชุฐููุฑ
4. ุงุญูุธ

---

## ๐ ููู ูุนูู ุงููุธุงู

### ุณููุงุฑูู 1: ุทูุจ ุฌุฏูุฏ

```
1. Order ููุตู ูู Shopify
   โ
2. ุงููุธุงู ููุญุต: ุงูุนููู ููุฌูุฏ ูู Databaseุ
   โ
3. ูุฑุณู ุฑุณุงูุฉ ุจุฃุฒุฑุงุฑ (โ ุชุฃููุฏ / โ ุฅูุบุงุก)
   โ
4. ุงูุนููู ูุถุบุท ุฒุฑ
   โ
5. ูุฑุณู ุฑุณุงูุฉ ุชุฃููุฏ ุฃู ุฅูุบุงุก
```

### ุณููุงุฑูู 2: ุจุฏูู ุฑุฏ

```
1. Order ููุตู
   โ
2. ูุฑุณู ุฑุณุงูุฉ ุจุฃุฒุฑุงุฑ
   โ
3. ุงูุนููู ูุง ูุฑุฏ
   โ
4. ุจุนุฏ ุณุงุนุฉ: Cron Job ูุฑุณู ุชุฐููุฑ
   โ
5. ุงูุนููู ูุฑุฏ โ ูุฑุณู ุฑุณุงูุฉ ุชุฃููุฏ/ุฅูุบุงุก
```

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### Test 1: ุฑุณุงูุฉ ุจุฃุฒุฑุงุฑ
```
1. ุงุนูู order ูู Shopify
2. ูุงุฒู ุชูุฌู ุฑุณุงูุฉ ุจุฃุฒุฑุงุฑ (โ ุชุฃููุฏ / โ ุฅูุบุงุก)
3. ุงุถุบุท ุชุฃููุฏ
4. ูุงุฒู ุชูุฌู ุฑุณุงูุฉ ุชุฃููุฏ
```

### Test 2: ุฅูุบุงุก
```
1. ุงุนูู order ุชุงูู
2. ุงุถุบุท ุฅูุบุงุก
3. ูุงุฒู ุชูุฌู ุฑุณุงูุฉ ุฅูุบุงุก
```

### Test 3: ุชุฐููุฑ
```
1. ุงุนูู order
2. ูุงุชุฑุฏุด
3. ุงุณุชูู ุณุงุนุฉ
4. ูุงุฒู ุชูุฌู ุฑุณุงูุฉ ุชุฐููุฑ
```

---

## ๐ ุงููุชุบูุฑุงุช ุงููุชุงุญุฉ

ูู ูู ุงูุฑุณุงุฆูุ ููููู ุงุณุชุฎุฏุงู:

| ุงููุชุบูุฑ | ุงููุตู | ูุซุงู |
|---------|-------|------|
| `{customer_name}` | ุงุณู ุงูุนููู | ุฃุญูุฏ ูุญูุฏ |
| `{order_number}` | ุฑูู ุงูุทูุจ | 1062 |
| `{products}` | ูุงุฆูุฉ ุงูููุชุฌุงุช | Teddy Sofa Love Seat |
| `{subtotal}` | ุงููุฌููุน ุงููุฑุนู | 19500.00 |
| `{shipping}` | ูุตุงุฑูู ุงูุดุญู | 118.00 |
| `{total}` | ุงูุฅุฌูุงูู | 22348.00 |
| `{address}` | ุนููุงู ุงูุชูุตูู | ุงููุงูุฑุฉุ ูุตุฑ |
| `{brand_name}` | ุงุณู ุงูุจุฑุงูุฏ | 4 Pixels |

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุฑุณุงูุฉ ุจุฏูู ุฃุฒุฑุงุฑ
**ุงูุญู:** ุชุฃูุฏ ูู:
- Backend ุดุบุงู
- ุงูุฑุณุงูุฉ ูู ููุน `interactive`
- WhatsApp Token ุตุญูุญ

### ุงููุดููุฉ: ุงูุชุฐููุฑ ูุง ูุดุชุบู
**ุงูุญู:** ุชุฃูุฏ ูู:
- Cron Job ุดุบุงู
- Database columns ููุฌูุฏุฉ
- ูุฑ ุณุงุนุฉ ุนูู ุงูุทูุจ

### ุงููุดููุฉ: ุงูุฃุฒุฑุงุฑ ูุง ุชุดุชุบู
**ุงูุญู:** ุชุฃูุฏ ูู:
- Webhook ุดุบุงู
- ngrok ุดุบุงู
- Webhook URL ุตุญูุญ ูู Meta

---

## ๐ ุงููููุงุช ุงููููุฉ

```
wahtsapp-main/
โโโ server/
โ   โโโ webhook-server-simple.js    โ Backend ุงูุฑุฆูุณู
โ   โโโ cron-reminder.js             โ Cron Job ููุชุฐููุฑ
โโโ src/
โ   โโโ components/
โ       โโโ TemplateSettings.jsx     โ ุตูุญุฉ ุงูุชุฎุตูุต
โโโ COMPLETE-DATABASE-SETUP.sql      โ Database Setup
โโโ START-COMPLETE-SYSTEM.bat        โ ุชุดุบูู ูู ุดูุก
```

---

## ๐ ุงููุธุงู ุฌุงูุฒ!

ุงูุขู ุนูุฏู:
- โ ุฑุณุงุฆู ุจุฃุฒุฑุงุฑ ุชูุงุนููุฉ
- โ ุชุฎุตูุต ูุงูู ููุฑุณุงุฆู
- โ ุชุชุจุน ูุงูู ููุทูุจุงุช
- โ ุชุฐููุฑ ุชููุงุฆู ุจุนุฏ ุณุงุนุฉ
- โ ูุธุงู ุงุญุชุฑุงูู ูุชูุงูู

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุชุฃูุฏ ูู ุชุดุบูู Database Setup
2. ุชุฃูุฏ ูู ุชุดุบูู ูู ุงูู Terminals
3. ุชุฃูุฏ ูู ngrok ุดุบุงู
4. ุดูู ุงูู Console Logs

---

**ุชู ุจุญูุฏ ุงููู! ๐**
